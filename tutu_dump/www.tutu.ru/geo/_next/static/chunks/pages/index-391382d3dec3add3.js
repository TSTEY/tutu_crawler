(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(44441)}])},44441:function(e,a,t){"use strict";t.r(a),t.d(a,{__N_SSG:function(){return H},default:function(){return V}});var s,l,r=t(85893),i=t(67294),n=t(93967),o=t.n(n),c=t(31893),d=t(74899);(s=l||(l={})).None="None",s.Categories="categories",s.Regions="regions";var p=t(61537),m=t(87732),h=t(36197),u=t(7921),g=t(80255),x=t(3016),k=t(9008),j=t.n(k),_=t(81869),y=t(92697),b=t(13235),w=t(17740),v=t(89982),N=t(76105),f=t(66755),C=t(20003),P=t(67803),T=t(82877),R=t(95178),L=t(48745),B=t(24265),E=t(45724),S=t(39463);let CategoriesItem=e=>{let{item:a,userwayBlock:t,userwayGeoId:s}=e,l=(0,T.FP)();return(0,r.jsx)(S.AN,{color:"secondary",size:300,href:a.href,onClick:()=>{l.send("geo_article_click",{publication_alias:function(e){let a=new URL(e),t=new URL(window.location.href);return t.hostname===a.hostname?a.pathname:e}(a.href),block:t??void 0,geo_id:s?Number(s):void 0})},firstLabel:a.title},a.href)},CategoriesBlock=e=>{let{paragraphs:a,isTravelBlock:t}=e;return(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.H2,{size:{xs:"header-medium",md:"header-large"},hasExtraPaddingTop:!0,className:o()((0,P.E9)({xs:400,xl:650})),color:"neutral-primary",children:"Путешествия"}),(0,r.jsx)(C.P,{color:"primary",size:{xs:"paragraph-large",md:"paragraph-x-large"},className:(0,P.yl)(200),children:"Рассказываем всё, что\xa0известно про\xa0\xabнеизвестного науке зверя\xbb"})]}),(0,r.jsx)("div",{className:o()("pXpCNBbsGA06x37M",(0,P.SG)({xs:350,lg:400})),children:a.map((e,a)=>(0,r.jsxs)(E.n,{backgroundColor:"neutral",size:"medium",className:"g_XB0E2O_wIEgc7_",paddingBottom:450,paddingLeft:400,paddingTop:400,paddingRight:400,topLeftRound:500,topRightRound:500,bottomRightRound:500,bottomLeftRound:500,children:[(0,r.jsx)(B.cM,{variant:{xs:"header-small",md:"header-medium"},labelColor:"neutral-primary",label:e.title,isLabelAccent:!0}),(0,r.jsx)("div",{className:o()("PvOY1IVakMoEBg2a",(0,P.E9)(350),(0,P.SG)(200)),children:e.links.map((t,s)=>(0,r.jsx)(CategoriesItem,{item:t,userwayBlock:e.userwayBlock,userwayGeoId:e.userwayGeoId},`link-${a}-${s}`))})]},`categoryP-${a}`))})]})};var z=t(86334),countries_sorted_block=e=>{let{countries:a}=e,t=[...a.items].sort((e,a)=>e.text.localeCompare(a.text)),s=(0,T.FP)(),l=(0,i.useCallback)(e=>{s.send("geo_article_click",{publication_alias:e.link,block:"countries",geo_id:e.geo_id??void 0})},[]),n=t.reduce((e,a)=>{let t=a.text[0].toUpperCase();return e[t]||(e[t]=[]),e[t].push(a),e},{}),renderCountry=e=>{let a="Корейская Народно-Демократическая Республика"===e.text?"Корея Северная":e.text;return(0,r.jsxs)("div",{className:o()("xeqNU1osU4CMACoA",(0,P.SG)(200)),children:[(0,r.jsx)(z.A,{flag:e.iso}),(0,r.jsx)(C.rU,{href:e.link,color:"brand",className:"NmkNXk7qN4iaG7mW",size:"paragraph-medium",onClick:()=>{l(e)},children:a})]},e.iso)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.H2,{size:{xs:"header-medium",md:"header-large"},className:(0,P.E9)({xs:400,md:650}),hasExtraPaddingTop:!0,color:"neutral-primary",children:"Узнайте о\xa0путешествиях в\xa0173\xa0страны"}),(0,r.jsx)(C.P,{className:(0,P.yl)(200),color:"primary",size:{xs:"paragraph-large",md:"paragraph-x-large"},children:"Когда начинается сезон в\xa0Таиланде, как\xa0получить визу в\xa0Испанию и\xa0что\xa0привезти из\xa0Греции"}),(0,r.jsx)("div",{className:o()("Fq4QI7qRoRUsJPYJ",(0,P.SG)({xs:350,lg:650}),(0,P.yl)(450)),children:Object.entries(n).map(e=>{let[a,t]=e;return(0,r.jsxs)("div",{className:o()("HhYD0JUWfzMxpNDe",(0,P.SG)({xs:350,lg:650})),children:[(0,r.jsx)(C.P,{className:"UOzZhsjUsy9J7JFT",color:"neutral-primary",size:{xs:"header-small",md:"header-medium"},children:a}),(0,r.jsx)("div",{className:o()("Vt7jEx04yzkIisJV",(0,P.SG)({xs:200,md:350,lg:650})),children:[0,1,2].map(e=>(0,r.jsx)("div",{className:o()("Az4dcg_uOd007SKM",(0,P.SG)(250)),children:t.slice(e*Math.ceil(t.length/3),(e+1)*Math.ceil(t.length/3)).map(renderCountry)},e))})]},a)})})]})},M=t(21652),D=t(251),A=t(20902);let MainPageSideblock=e=>{let{sideblock:a,onTitleClick:t}=e;return(0,r.jsx)("a",{href:a.titleLink||"#",className:o()("BlHRqCD8LsU_ZWin",(0,P.rv)(350),(0,P.WL)(350),(0,P.Et)(100),(0,P.od)(100)),onClick:()=>{t?.()},children:(0,r.jsxs)(M.bL,{addonSize:"medium",size:"small",contrast:"small",className:o()((0,P.od)(250),(0,P.Et)(250)),children:[(0,r.jsx)(M.e9,{children:(0,r.jsx)(A.V,{icon:(e=>{switch(e){case"Купить тур":default:return"island-palms";case"Купить авиабилет":return"plane";case"Заказать гостиницу":return"bed-double"}})(a.title),iconStyle:"brand",shape:"squircle",size:450})}),(0,r.jsx)(D.Rm,{children:(0,r.jsx)(B.cM,{emphasized:!0,label:a.title,variant:"paragraph-large-compact"})})]})})};var G=t(17882);let MainPageTopBlock=e=>{let{sideblock:a,onTitleClick:t}=e;return(0,r.jsx)("a",{href:a.titleLink||"#",className:"POQphOGzTQ0NEMtr",onClick:()=>{t?.()},children:(0,r.jsx)(G.j,{backgroundColor:"brand",isBottomLeftRounded:!0,isBottomRightRounded:!0,isTopLeftRounded:!0,isTopRightRounded:!0,size:300,paddingTop:50,paddingBottom:50,paddingRight:350,paddingLeft:350,children:(0,r.jsxs)(M.bL,{addonSize:"medium",size:"small",contrast:"small",className:"qQgADTcw0SgjsXON",children:[(0,r.jsx)(M.e9,{children:(0,r.jsx)(A.V,{icon:(e=>{switch(e){case"Купить тур":default:return"island-palms";case"Купить авиабилет":return"plane";case"Заказать гостиницу":return"bed-double"}})(a.title),iconStyle:"brand",size:200})}),(0,r.jsx)(D.Rm,{children:(0,r.jsx)(B.cM,{emphasized:!0,label:(0,r.jsx)("span",{className:"shNWJtmFvYQ1T3Ez",children:a.title}),variant:"paragraph-medium-compact"})})]})})})};var I=t(77156);let RegionsItem=e=>{let{item:a,userwayBlock:t,userwayGeoId:s}=e,l=(0,T.FP)();return(0,r.jsx)(S.AN,{color:"secondary",size:300,href:a.href,onClick:()=>{l.send("geo_article_click",{publication_alias:function(e){let a=new URL(e),t=new URL(window.location.href);return t.hostname===a.hostname?a.pathname:e}(a.href),block:t??void 0,geo_id:s?Number(s):void 0})},leftAddon:1===a.type?(0,r.jsx)(A.V,{icon:"logo-youtube"}):void 0,firstLabel:a.title},a.href)};var F={regionsBlock:"hjAX8g34_Ys8AW6B",regionBlock:"F7XLw4plkmmn5OxD",regionBlockItems:"z8yRnam1TRIM6Kc9",regionsBlockShowAll:"pXmTNc3VCK4bSRoy"};let RegionsBlock=e=>{let[a,t]=(0,i.useState)(!0),{paragraphs:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.H2,{size:{xs:"header-medium",md:"header-large"},color:"neutral-primary",className:(0,P.E9)({xs:400,lg:0}),hasExtraPaddingTop:!0,children:"Россия"}),(0,r.jsx)(C.P,{color:"primary",size:{xs:"paragraph-large",md:"paragraph-x-large"},children:"Города, достопримечательности, кухня, быт и ещё много интересного"}),(0,r.jsx)("div",{className:F.regionsBlock,children:s.map((e,t)=>t>7&&a?null:(0,r.jsxs)("div",{className:F.regionBlock,children:[(0,r.jsx)(C.H3,{size:{xs:"header-small",md:"header-medium"},hasExtraPaddingTop:!0,color:"neutral-primary",children:e.title}),(0,r.jsx)("div",{className:o()(F.regionBlockItems,(0,P.od)(100),(0,P.SG)(200)),children:e.links.map((a,s)=>(0,r.jsx)(RegionsItem,{item:a,userwayBlock:e.userwayBlock,userwayGeoId:e.userwayGeoId},`link-${t}-${s}`))})]},`regionP-${t}`))}),a&&(0,r.jsx)("div",{className:o()(F.regionsBlockShowAll,(0,P.E9)({xs:300,lg:450})),children:(0,r.jsx)(I.U,{headerProps:{addonProps:{icon:"angle-arrow-2-up-down_outline"},children:"Все регионы России",color:"brand-primary",isAddonRight:!0,size:600,tag:"button"},onToggle:()=>{t(!a)},type:"flex-button"})})]})};var U=t(89549);let MainpageDataService=class MainpageDataService{constructor(e){this.nodeApiClient=e,this.journalGateway=new U.bM(this.nodeApiClient)}async getMainpageData(){let e=await this.journalGateway.mainpageList();return this.mapDtoToModel(e.data)}mapDtoToModel(e){let a={title:e.title,subtitle:e.subtitle,blocks:e.blocks.map(e=>({type:e.name,paragraphs:(e.paragraphs||[]).map(a=>({title:a.name,links:(a.links||[]).map(e=>({title:e.name,href:e.href,type:e.type})),userwayBlock:a.data_userway_block??e.data_userway_block??"other",userwayGeoId:a.data_userway_geo_id??e.data_userway_geo_id}))}))};return a}};var O=t(86949),X=t(73932);let MainPageController=class MainPageController{constructor(e){this.params=e,this.state=(0,O.sj)((0,X.I8)(e.state)),this.mainpageDataService=new MainpageDataService(e.journalClient)}async updateData(){let e=await this.mainpageDataService.getMainpageData();this.state.mainPageData=e}};let W=[{title:"Купить тур",type:"cost_of_travel",titleLink:"https://tours.tutu.ru/",value:null,userwayAlias:"tours"},{title:"Купить авиабилет",type:"cost_of_travel",titleLink:"https://avia.tutu.ru/",value:null,userwayAlias:"avia"},{title:"Заказать гостиницу",type:"cost_of_travel",titleLink:"https://hotel.tutu.ru/",value:null,userwayAlias:"hotels"}];var q={content:"jyTRQ0uL4k0bkEpr",pageContent:"zIqiDa2NX4oXogjH",additionalContent:"SOePC1yR1Ek6kXly",additionalContentTop:"AqKWYZNLbykRXmg6"};let $="geo_main",MainPage=e=>{let{serverState:a}=e,t=(0,v.PR)(),s=(0,_.T)(),n=(0,y.OB)().get("NEXT_PUBLIC_SITE_URL").required().asString(),k=`${n}geo/`,B=(0,T.FP)(),{top:E,bottom:S,bottomSide:z,modal:M,isFetched:D,bduiData:A}=(0,p.h)($),G=(0,y.OB)().get("NEXT_PUBLIC_BASE_DOMAIN").required().asString(),I=(0,i.useMemo)(()=>new MainPageController({state:a,journalClient:t}),[t,a]);(0,i.useEffect)(()=>{I.updateData()},[I]),(0,g.n)(e=>{B.send("geo_article_page_scroll",{type:"special",block:`${e}%`})},[10,25,50,75,90]),(0,x.v)(()=>{B.send("geo_article_screen_left",{type:"special",block:"another_tab"})}),(0,h.n)(300,()=>{B.send("geo_article_screen_left",{type:"special",block:"inactivity"})}),(0,u.Q)(()=>{B.send("geo_article_screen_left",{type:"special",block:"close"})}),(0,m.V)(e=>{B.send("geo_article_screen_left",{type:"special",block:"another_page",target_page:e,uri:e})});let{mainPageData:F,countries:U}=(0,w.R)(I.state);if(!F)return(0,r.jsx)("div",{});let O="Путеводитель по странам мира: отдыхаем, путешествуем",onLinkPanelClick=e=>{B.send(e)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(j(),{children:[(0,r.jsx)("title",{children:"Путеводитель по странам мира: отдыхаем, путешествуем"}),(0,r.jsx)("meta",{property:"og:site_name",content:"Туту"}),(0,r.jsx)("meta",{property:"og:locale",content:"ru_ru"}),(0,r.jsx)("meta",{property:"og:type",content:"article"}),(0,r.jsx)("meta",{property:"og:title",content:O}),(0,r.jsx)("meta",{property:"og:url",content:k}),(0,r.jsx)("meta",{property:"og:description",content:O}),(0,r.jsx)("meta",{property:"og:image",content:"https://cdn1.tu-tu.ru/images2/logo/og_2023.png"}),(0,r.jsx)("meta",{property:"og:image:height",content:"630"}),(0,r.jsx)("meta",{property:"og:image:width",content:"1200"}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:title",content:O}),(0,r.jsx)("meta",{name:"twitter:description",content:O}),(0,r.jsx)("meta",{name:"twitter:image",content:""}),(0,r.jsx)("meta",{name:"keywords",content:O}),(0,r.jsx)("meta",{name:"description",content:O}),(0,r.jsx)("meta",{httpEquiv:"x-dns-prefetch-control",content:"on"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r.jsx)("link",{rel:"canonical",href:k})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(R.h,{product:"geo",baseDomain:G,showDefaultSecondaryNavItems:!1,showProductsLinks:!1,extraSecondaryNavItems:[{label:"Авиабилеты",href:"https://avia.tutu.ru/",onClick:()=>{onLinkPanelClick("link_panel_avia_click")}},{label:"Ж/д билеты",href:"https://www.tutu.ru/poezda/",onClick:()=>{onLinkPanelClick("link_panel_railway_click")}},{label:"Автобусы",href:"https://bus.tutu.ru/",onClick:()=>{onLinkPanelClick("link_panel_bus_click")}},{label:"Отели",href:"https://hotel.tutu.ru/",onClick:()=>{onLinkPanelClick("link_panel_hotels_click")}},{label:"Электрички",href:"https://www.tutu.ru/prigorod/",onClick:()=>{onLinkPanelClick("link_panel_etrain_click")}},{label:"Туры",href:"https://tours.tutu.ru/",onClick:()=>{onLinkPanelClick("link_panel_tours_click")}}]}),(0,r.jsxs)(f.Mx,{tag:"div",children:[(0,r.jsx)(f.oG,{children:(0,r.jsx)(f.Wd,{col:12,className:o()((0,N.j)({xs:"block",lg:"none"})),children:(0,r.jsx)("div",{className:o()(q.additionalContentTop,(0,P.SG)(200),(0,P.E9)(450),(0,P.yl)(200)),children:W.map(e=>(0,r.jsx)(MainPageTopBlock,{sideblock:e,onTitleClick:()=>{B?.send("navigation_block_click",{product:e.userwayAlias??void 0})}}))})})}),E.enabled&&(0,r.jsx)(f.oG,{children:(0,r.jsx)(f.Wd,{col:12,children:(0,r.jsx)(c.F,{bannerType:E.type,bduiData:A,isFetched:D,position:"top",pageType:$,wrapperClassName:(0,P.E9)(450)})})}),(0,r.jsx)(f.oG,{className:(0,P.yl)({xs:350,lg:450}),children:(0,r.jsxs)(f.Wd,{col:{xs:12,lg:8},children:[(0,r.jsx)(C.H1,{size:{xs:"header-large",md:"header-x-large"},hasExtraPaddingTop:!0,color:"neutral-primary",className:o()(q.mainTitle,(0,P.E9)(0)),children:"Путеводитель Туту"}),(0,r.jsx)(C.P,{color:"primary",hasExtraPaddingTop:!0,size:{xs:"paragraph-large",md:"paragraph-x-large"},children:"Обзоры городов и\xa0стран, достопримечательности, советы, неожиданные ответы на\xa0вопросы пассажиров и\xa0бобры. Они\xa0добры."})]})}),(0,r.jsxs)(f.oG,{children:[(0,r.jsx)(f.Wd,{col:{xs:12,lg:8},children:(0,r.jsx)("div",{className:q.content,children:(0,r.jsxs)("div",{className:q.pageContent,children:[F.blocks.map((e,a)=>{switch(e.type){case l.Categories:return(0,r.jsx)(CategoriesBlock,{paragraphs:e.paragraphs,isTravelBlock:a===F.blocks.length-1},`categoriesBlock-${a}`);case l.Regions:return(0,r.jsx)(RegionsBlock,{paragraphs:e.paragraphs},`regionsBlock-${a}`);default:{let a=`Unknown main page block ${e.type}`;b.Z.error(a);return}}}),U&&(0,r.jsx)(countries_sorted_block,{countries:U})]})})}),(0,r.jsxs)(f.Wd,{col:4,className:o()((0,N.j)({xs:"none",lg:"block"})),children:[(0,r.jsx)("div",{className:q.additionalContent,children:W.map(e=>(0,r.jsx)(MainPageSideblock,{sideblock:e,onTitleClick:()=>{B?.send("navigation_block_click",{product:e.userwayAlias??void 0})}}))}),z.enabled&&(0,r.jsx)(c.F,{bannerType:z.type,bduiData:A,isFetched:D,position:"bottom-side-block",pageType:$,wrapperClassName:(0,P.E9)(450)})]})]}),S.enabled&&(0,r.jsx)(f.oG,{children:(0,r.jsx)(f.Wd,{col:{xs:12,lg:8},children:(0,r.jsx)(c.F,{bannerType:S.type,bduiData:A,isFetched:D,position:"bottom",pageType:$,wrapperClassName:o()((0,P.yl)(450))})})})]}),(0,r.jsx)(L.$,{baseDomain:G,page:s?.name??""}),M.enabled&&(0,r.jsx)(d.j,{data:A})]})]})};var H=!0,V=(0,_.f)(e=>(0,r.jsx)(MainPage,{serverState:{mainPageData:e.mainPageData,countries:e.countries}}),{name:"geo_main"})}},function(e){e.O(0,[505,914,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);